#!/usr/bin/env ruby
require 'talker_bot'

class Inspector
  NAME = "Inspector Jones"

  attr_accessor :client

  def respond_to?(name)
    true if name.to_s =~ /^on_/
  end

  def method_missing(name, *args)
    p [name, args]
  end

  def to_s
    NAME
  end
end

TalkerBot.start(:room => ARGV.first || abort('supply a room number')) do
  use Inspector.new
end